(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,n){},4:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(5),o=n.n(r),i=(n(18),n(11)),s=n(3),u=n(9);n(19);var l={imagesFetch:function(e,t,n){return fetch("".concat("https://pixabay.com/api/","?").concat("key=21324053-9f61ed863564998c3c32e619e","&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():0===n.length?Promise.reject(new Error("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442")):void 0}))}},j=n(12),m=n.n(j),b=(n(4),n(1));function h(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1],i=m.a.generate();return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r.trim()),o("")):u.b.error("Enter your query")},children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{id:i,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"name",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}function d(e){var t=e.webformatURL,n=e.tags,c=e.largeImageURL,a=e.onClick;return Object(b.jsx)("li",{onClick:function(){return a(c,n)},className:"ImageGalleryItem",children:Object(b.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})})}function f(e){var t=e.arrayImages,n=e.onSubmit;return Object(b.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.webformatURL,a=e.largeImageURL,r=e.tags;return Object(b.jsx)(d,{webformatURL:c,tags:r,largeImageURL:a,onClick:n},t)}))})}function O(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}),[]);var a=function(e){"Escape"===e.code&&t(),e.currentTarget===e.target&&t()},o=document.querySelector("#modal-root");return Object(r.createPortal)(Object(b.jsx)("div",{className:"Overlay",onClick:a,children:Object(b.jsx)("div",{className:"Modal",children:n})}),o)}var g=n(13),p=n.n(g);function x(){return Object(b.jsx)("div",{className:"loader",children:Object(b.jsx)(p.a,{type:"BallTriangle",color:"#00BFFF",height:200,width:200})})}var v=function(e){var t=e.children,n=e.onClick;return Object(b.jsx)("div",{className:"containerBtn-loadMore",children:Object(b.jsx)("button",{className:"Button",onClick:n,children:t})})};function S(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),j=o[0],m=o[1],d=Object(c.useState)(!1),g=Object(s.a)(d,2),p=g[0],S=g[1],y=Object(c.useState)(null),w=Object(s.a)(y,2),N=w[0],k=w[1],C=Object(c.useState)(1),I=Object(s.a)(C,2),F=I[0],L=I[1],E=Object(c.useState)(!1),R=Object(s.a)(E,2),U=R[0],B=R[1],T=Object(c.useState)(null),q=Object(s.a)(T,2),G=(q[0],q[1]);Object(c.useEffect)((function(){""!==n&&M()}),[n]);var M=function(){S(!0),l.imagesFetch(n,F,j).then((function(e){return J(e.hits)})).catch((function(e){return G(e)})).finally((function(){return S(!1)}),L((function(e){return e+1})))},J=function(e){m(e===[]?e:function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})},P=function(){L(1),m([])};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{onSubmit:function(e){P(),a(e)}}),0===j.length&&Object(b.jsx)("div",{className:"container-paragraphInfo",children:Object(b.jsxs)("p",{className:"paragraphInfo",children:["No images for your query ","".concat(n)]})}),j&&Object(b.jsx)(f,{arrayImages:j,onSubmit:function(e,t){k([e,t]),B(!0)}}),U&&Object(b.jsx)(O,{onClose:function(){B(!U)},children:Object(b.jsx)("img",{src:N[0],alt:N[1]})}),Object(b.jsx)(u.a,{autoClose:3e3}),p&&Object(b.jsx)(x,{}),0!==j.length&&Object(b.jsx)(v,{onClick:function(){M(),setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},children:"Load more"})]})}o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.7cdcdab1.chunk.js.map